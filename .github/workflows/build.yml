name: Release Zip
on:
  push:
    tags:
      - "v*.*.*"
jobs:
    make-zip:
      runs-on: ubuntu-latest
      steps:
        - name: Checkout
          uses: actions/checkout@v2
        - name: Make a file
          shell: bash
          run: |
            7z a random_rotation-${{ github.ref_name }}.zip random_rotation.py random_rotation.inx README.md LICENSE
        - name: Upload random rotation zip
          uses: actions/upload-artifact@v3
          with:
            name: upload zip
            path: random_rotation-${{ github.ref_name }}.zip
        - name: Release
          uses: softprops/action-gh-release@v1
          if: startsWith(github.ref, 'refs/tags/')
          with:
            files: random_rotation-${{ github.ref_name }}.zip
